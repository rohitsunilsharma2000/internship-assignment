ржирж┐ржЪрзЗ **Doctor Availability Management Module** ржПржмржВ **Appointment Booking Service**тАУржПрж░ рж▓ржЬрж┐ржХ ржмрж╛ржВрж▓рж╛рзЯ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рж▓рзЛ:

---

## ЁЯзй рзз. ржбрж╛ржХрзНрждрж╛рж░ ржЙржкрж╕рзНржерж┐рждрж┐ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржоржбрж┐ржЙрж▓ (Doctor Availability Management Module)

### ЁЯОп ржЙржжрзНржжрзЗрж╢рзНржп:

ржбрж╛ржХрзНрждрж╛рж░рзЗрж░ ржХрж╛ржЬрзЗрж░ рж╕ржорзЯ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ ржПржмржВ рж╕рзЗржЗ рж╕ржорзЯ ржЕржирзБржпрж╛рзЯрзА ржЕржЯрзЛржорзЗржЯрж┐ржХ рж╕рзНрж▓ржЯ рждрзИрж░рж┐ ржХрж░рж╛ред

---

### ЁЯФз **ржорзВрж▓ рж▓ржЬрж┐ржХ:**

#### ЁЯФ╣ ржзрж╛ржк рзз: ржбрж╛ржХрзНрждрж╛рж░рзЗрж░ ржЙржкрж╕рзНржерж┐рждрж┐ рж╕ржорзЯ ржирж┐рж░рзНржзрж╛рж░ржг

* ржпрзЗржоржи:
  рж╢рзБрж░рзБ: рж╕ржХрж╛рж▓ рззрзж:рзжрзж | рж╢рзЗрж╖: рж╕ржХрж╛рж▓ рззрзз:рзжрзж
  ржорзЛржЯ рж╕ржорзЯ: рзз ржШржгрзНржЯрж╛

#### ЁЯФ╣ ржзрж╛ржк рзи: ржЕржЯрзЛ рж╕рзНрж▓ржЯ рждрзИрж░рж┐

* рж▓ржЬрж┐ржХ: ржкрзНрж░рждрж┐ рж╕рзНрж▓ржЯ = рззрзж ржорж┐ржирж┐ржЯ
  тЖТ ржкрзНрж░рждрж┐ ржШржгрзНржЯрж╛рзЯ рзмржЯрж┐ рж╕рзНрж▓ржЯ рждрзИрж░рж┐ рж╣ржмрзЗ

| рж╕ржорзЯ           | рж╕рзНрж▓ржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕   |
| ------------- | ---------------- |
| рззрзж:рзжрзж тАУ рззрзж:рззрзж | Available (ржЦрж╛рж▓рж┐) |
| рззрзж:рззрзж тАУ рззрзж:рзирзж | Available        |
| рззрзж:рзирзж тАУ рззрзж:рзйрзж | Available        |
| рззрзж:рзйрзж тАУ рззрзж:рзкрзж | Available        |
| рззрзж:рзкрзж тАУ рззрзж:рзлрзж | Available        |
| рззрзж:рзлрзж тАУ рззрзз:рзжрзж | Available        |

#### ЁЯФ╣ ржзрж╛ржк рзй: рж╕рзНрж▓ржЯрзЗрж░ ржмрж┐ржнрж┐ржирзНржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕

| рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕     | ржЕрж░рзНрже / ржЙржжрзНржжрзЗрж╢рзНржп                                               |
| ------------- | ------------------------------------------------------------- |
| `Available`   | рж░рзЛржЧрзАрж░ ржЬржирзНржп ржЦрзЛрж▓рж╛ рж╕рзНрж▓ржЯ                                          |
| `Booked`      | рж░рзЛржЧрзА рж╕рзНрж▓ржЯ ржмрзБржХ ржХрж░рзЗржЫрзЗржи                                          |
| `Arrived`     | рж░рзЛржЧрзА ржХрзНрж▓рж┐ржирж┐ржХрзЗ ржПрж╕рзЗ ржкрзМржБржЫрзЗржЫрзЗржи                                    |
| `Completed`   | ржбрж╛ржХрзНрждрж╛рж░рзЗрж░ рж╕ржЩрзНржЧрзЗ ржжрзЗржЦрж╛ рж╢рзЗрж╖                                      |
| `Unavailable` | рж╣ржарж╛рзО ржЕржирзБржкрж▓ржмрзНржз (ржЫрзБржЯрж┐/ржЬрж░рзБрж░рж┐)                                    |
| `Walkin`      | ржУрзЯрж╛ржХ-ржЗржи рж░рзЛржЧрзАрж░ ржЬржирзНржп ржирж┐рж░рзНржзрж╛рж░рж┐ржд рж╕рзНрж▓ржЯ                             |
| `Additional`  | ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржпрзБржХрзНржд ржХрж░рж╛ ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНрж▓ржЯ                            |
| `Blocked`     | рж▓рж╛ржЮрзНржЪ/ржЕржирзНржпрж╛ржирзНржп ржХрж╛рж░ржгрзЗ ржмрзНрж▓ржХ ржХрж░рж╛ рж╕рзНрж▓ржЯ                            |
| `No Show`     | рж░рзЛржЧрзА ржЖрж╕рзЗржиржирж┐                                                   |
| `Reserved`    | рж╕рзНрж▓ржЯ ржЕрж╕рзНржерж╛рзЯрзАржнрж╛ржмрзЗ ржзрж░рзЗ рж░рж╛ржЦрж╛ рж╣рзЯрзЗржЫрзЗ (ржпрзЗржоржи: ржкрзЗржорзЗржирзНржЯ ржпрж╛ржЪрж╛ржЗрзЯрзЗрж░ ржЬржирзНржп) |

#### ЁЯФ╣ ржзрж╛ржк рзк: ржорзНржпрж╛ржирзБрзЯрж╛рж▓ рж╕рзНрж▓ржЯ ржУржнрж╛рж░рж░рж╛ржЗржб

* рж░рж┐рж╕рзЗржкрж╢ржирж┐рж╕рзНржЯ ржмрж╛ ржЕрзНржпрж╛ржбржорж┐ржи ржЪрж╛ржЗрж▓рзЗ:

  * ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНрж▓ржЯ (Additional) рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗржоржи рззрзз:рззрзл тАУ рззрзз:рзирзл
  * ржХрзЛржирзЛ рж╕рзНрж▓ржЯ `Blocked` ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи

---

## ЁЯзй рзи. ржЕрзНржпрж╛ржкржпрж╝рзЗржирзНржЯржорзЗржирзНржЯ ржмрзБржХрж┐ржВ рж╕рж╛рж░рзНржнрж┐рж╕ (Appointment Booking Service)

### ЁЯОп ржЙржжрзНржжрзЗрж╢рзНржп:

рж░рзЛржЧрзА ржмрж╛ рж░рж┐рж╕рзЗржкрж╢ржирж┐рж╕рзНржЯ ржпрзЗржи ржирж┐рж░рзНржзрж╛рж░рж┐ржд рж╕ржорзЯ ржЕржирзБржпрж╛рзЯрзА рж╕рзНрж▓ржЯ ржмрзБржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

---

### ЁЯФз **ржорзВрж▓ рж▓ржЬрж┐ржХ:**

#### ЁЯФ╣ ржзрж╛ржк рзз: рж╕рзНрж▓ржЯ рж▓рж┐рж╕рзНржЯ ржжрзЗржЦрж╛ржирзЛ

* рж╢рж░рзНржд:

  * `Available` рж╕рзНрж▓ржЯржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ
  * ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржбрж╛ржХрзНрждрж╛рж░ ржУ рждрж╛рж░рж┐ржЦ ржЕржирзБржпрж╛рзЯрзА ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ

#### ЁЯФ╣ ржзрж╛ржк рзи: ржмрзБржХрж┐ржВ ржкрзНрж░рж╕рзЗрж╕

* рж░рзЛржЧрзА `рззрзж:рззрзж тАУ рззрзж:рзирзж` рж╕рзНрж▓ржЯ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗржи
* рж╕рж┐рж╕рзНржЯрзЗржо ржЖржкржбрзЗржЯ ржХрж░рзЗ:

  * `status = Booked`
  * `patient_id = 123`
  * `booking_time = ржПржЦржи`
  * (ржкрзНрж░рзЯрзЛржЬржирзЗ) `payment_status = Paid`

#### ЁЯФ╣ ржзрж╛ржк рзй: рж░рж┐рзЯрзЗрж▓-ржЯрж╛ржЗржо рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЖржкржбрзЗржЯ

* рж░рзЛржЧрзА ржПрж╕рзЗ ржкрзМржБржЫрж╛рж▓рзЗ тЖТ `Arrived`
* ржбрж╛ржХрзНрждрж╛рж░ ржжрзЗржЦрж╛ рж╢рзЗрж╖ ржХрж░рж▓рзЗ тЖТ `Completed`
* ржирж╛ ржПрж▓рзЗ тЖТ `No Show`

#### ЁЯФ╣ ржзрж╛ржк рзк: ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рж░рзБрж▓

* ржПржХржЗ рж╕рзНрж▓ржЯ ржЖржмрж╛рж░ ржмрзБржХ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
* `Blocked`, `Unavailable` рж╕рзНрж▓ржЯ ржмрзБржХ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
* ржЕрждрзАрждрзЗрж░ рж╕ржорзЯ ржмрзБржХ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
* Walk-in рж╢рзБржзрзБржорж╛рждрзНрж░ ржЕржирзБржорзЛржжрж┐ржд ржЕржмрж╕рзНржерж╛рзЯ ржЕржирзБржорждрж┐ржкрзНрж░рж╛ржкрзНржд рж╣ржмрзЗ

---

### ЁЯдЭ **ржжрзБржЗ ржоржбрж┐ржЙрж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ:**

| ржХрж╛рж░рзНржпржХрзНрж░ржо                      | ржХрзЛржи ржоржбрж┐ржЙрж▓ ржерзЗржХрзЗ тЖТ ржХрзЛржи ржоржбрж┐ржЙрж▓рзЗ ржпрж╛ржпрж╝       |
| ------------------------------ | -------------------------------------- |
| ржбрж╛ржХрзНрждрж╛рж░ рж╕ржорзЯ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗржи      | Availability Module тЖТ Slot Generation  |
| рж░рзЛржЧрзА ржЕрзНржпрж╛ржкржпрж╝рзЗржирзНржЯржорзЗржирзНржЯ ржмрзБржХ ржХрж░рзЗржи | Booking Service тЖТ Slot Update & Notify |
| ржбрж╛ржХрзНрждрж╛рж░ рж╕рзНрж▓ржЯ ржЖржкржбрзЗржЯ ржХрж░рзЗржи        | Consultation тЖТ Slot Status Update      |
| рж░рж┐рж╕рзЗржкрж╢ржи ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНрж▓ржЯ ржпрзЛржЧ ржХрж░рзЗржи | Manual Override тЖТ Availability Update  |

---


## ЁЯз╛ 3. Feature Ticket: Walk-in Priority Tag & Overbooking Support for Interrupted Slot Window

---

### ЁЯФ┤ **рж╕ржорж╕рзНржпрж╛ (Problem Statement)**

ржПржХржЬржи ржбрж╛ржХрзНрждрж╛рж░ рж╕ржХрж╛рж▓ рззрзжржЯрж╛ ржерзЗржХрзЗ рззрзз:рззрзл ржкрж░рзНржпржирзНржд рж░рзЛржЧрзА ржжрзЗржЦржЫрзЗржиред
ржкрзНрж░рждрж┐ ржШржгрзНржЯрж╛ржпрж╝ рзмржЯрж┐ ржХрж░рзЗ рж╕рзНрж▓ржЯ рждрзИрж░рж┐ рж╣ржпрж╝ (рзз рж╕рзНрж▓ржЯ = рззрзж ржорж┐ржирж┐ржЯ)ред
ржХрж┐ржирзНрждрзБ ржЬрж░рзБрж░рж┐ ржХрж╛рж░ржгрзЗ рззрзж:рзйрзжтАУрззрзз:рзжрзж рж╕ржорзЯржХрж╛рж▓ **Unavailable** рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред

ржПржЗ рж╕ржорзЯрзЗ ржпрж╛ржБрж░рж╛ ржЖржЧрзЗ ржерзЗржХрзЗржЗ рж╕рзНрж▓ржЯ ржмрзБржХ ржХрж░рзЗржЫрж┐рж▓рзЗржи,
рждрж╛ржБрж░рж╛:

* ржЕржирзЗржХ ржжрзВрж░ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗржи (ржпрзЗржоржи рззрзжрзжрзж ржХрж┐ржорж┐ ржжрзВрж░)
* ржЖржЬржЗ ржжрзЗржЦрж╛ ржЬрж░рзБрж░рж┐
* ржЕржирзНржп рж╕ржоржпрж╝рзЗ ржЖрж╕рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛

ЁЯСЙ рззрззржЯрж╛рж░ ржкрж░рзЗрж░ рж╕ржм рж╕рзНрж▓ржЯ ржЖржЧрзЗржЗ ржмрзБржХ ржХрж░рж╛
ЁЯСЙ ржХрзЗржЙ рждрж╛ржБржжрзЗрж░ рж╕рзНрж▓ржЯ ржЫрж╛ржбрж╝рждрзЗ рж░рж╛ржЬрж┐ ржиржпрж╝

---

### тЪЩя╕П **ржирждрзБржи ржлрж┐ржЪрж╛рж░рзЗрж░ ржЪрж╛рж╣рж┐ржжрж╛ (New Feature Requirement)**

#### тЬЕ ржлрж┐ржЪрж╛рж░ рзз: **Walk-in Priority Tagging**

* рж╕рж┐рж╕рзНржЯрзЗржо рж╕рзЗржЗрж╕ржм рж░рзЛржЧрзАржжрзЗрж░ рж╕рзНрж▓ржЯржХрзЗ тАЬ**Walk-in Priority**тАЭ рж╣рж┐рж╕рзЗржмрзЗ ржЯрзНржпрж╛ржЧ ржХрж░ржмрзЗтАФ

  * ржпрж╛рж░рж╛ ржбрж╛ржХрзНрждрж╛рж░ ржЕржирзБржкрж▓ржмрзНржз рж╕ржоржпрж╝рзЗ ржмрзБржХ ржХрж░рзЗржЫрж┐рж▓рзЗржи
  * ржПржмржВ ржЖржЬржЗ ржжрзЗржЦрж╛ ржжрж░ржХрж╛рж░

**Tag Attributes:**

| Attribute     | Value                                     |
| ------------- | ----------------------------------------- |
| `priorityTag` | Walk-in Priority                          |
| `reason`      | Schedule disrupted due to emergency       |
| `notes`       | Long-distance patient, must consult today |

ржПржЗ ржЯрзНржпрж╛ржЧржЯрж┐ рж░рж┐рж╕рзЗржкрж╢ржи/ржбрж╛ржХрзНрждрж╛рж░рзЗрж░ ржЕрзНржпрж╛ржкржпрж╝рзЗржирзНржЯржорзЗржирзНржЯ ржнрж┐ржЙрждрзЗ рж╣рж╛ржЗрж▓рж╛ржЗржЯ рж╣ржмрзЗред

---

#### тЬЕ ржлрж┐ржЪрж╛рж░ рзи: **Manual Overbooking Support**

* Receptionist/Admin/Doctor ржЪрж╛ржЗрж▓рзЗ ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНрж▓ржЯ **ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи**

  * ржпрзЗржоржи: рззрзз:рззрзлтАУрззрзз:рзирзл (slotType = `Additional`)
  * ржмрж╛ ржмрж┐ржжрзНржпржорж╛ржи рж╕рзНрж▓ржЯрзЗрж░ ржоржзрзНржпрзЗ ржлрж╛ржБржХ рждрзИрж░рж┐ ржХрж░рзЗ рж░рзЛржЧрзАржХрзЗ ржлрж┐ржЯ ржХрж░рж╛ ржпрж╛ржмрзЗ

**Slot Attributes:**

| Attribute | Value           |
| --------- | --------------- |
| `status`  | Additional      |
| `tag`     | Emergency Add   |
| `addedBy` | Reception/Admin |

---

#### тЬЕ ржлрж┐ржЪрж╛рж░ рзй: **Protected Future Slots**

* рззрззржЯрж╛рж░ ржкрж░рзЗрж░ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржмрзБржХ ржХрж░рж╛ рж╕рзНрж▓ржЯрзЗрж░ ржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛
* ржПржЗ рж░рзЛржЧрзАрж░рж╛ рждрж╛ржБржжрзЗрж░ рж╕ржорзЯ ржЕржирзБржпрж╛рзЯрзА ржжрзЗржЦрж╛ ржкрж╛ржмрзЗржи

---

### ЁЯУЛ **Slot Table Update Plan**

Add columns:

```sql
ALTER TABLE slots
ADD COLUMN priority_tag VARCHAR(50),
ADD COLUMN slot_type VARCHAR(20), -- e.g., NORMAL, ADDITIONAL
ADD COLUMN reason TEXT,
ADD COLUMN added_by VARCHAR(50);
```

---

### ЁЯзк **Test Cases**

| рж╕ржорзЯ      | рж░рзЛржЧрзА       | Slot Status | ржХрж░ржгрзАрзЯ                           |
| -------- | ---------- | ----------- | ------------------------------- |
| рззрзж:рзкрзл AM | рж░ржорзЗрж╢ ржЧрзБржкрзНржд | Unavailable | Walk-in Priority Tag            |
| рззрзз:рзжрзж AM | ржЕржирж┐рждрж╛ ржжрж╛рж╕  | Booked      | ржХрж┐ржЫрзБ ржХрж░ржгрзАрзЯ ржирзЗржЗ                  |
| рззрзз:рззрзл AM | рж╕рзБрж░рзЗрж╢ ржпрж╛ржжржм | Booked      | ржХрж┐ржЫрзБ ржХрж░ржгрзАрзЯ ржирзЗржЗ                  |
| рззрзз:рзирзл AM | тАФ          | Additional  | рж░ржорзЗрж╢ржХрзЗ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржЕрзНржпрж╛ржб ржХрж░рж╛ рж╣ржмрзЗ |

---

### тЬЕ рж╕рж╛рж░рж╛ржВрж╢

| ЁЯФ┤ рж╕ржорж╕рзНржпрж╛                                           | тЬЕ рж╕ржорж╛ржзрж╛ржи                                                 |
| --------------------------------------------------- | -------------------------------------------------------- |
| ржЬрж░рзБрж░рж┐рждрзЗ рж╕рзНрж▓ржЯ ржмрж╛рждрж┐рж▓ рж╣рзЯрзЗржЫрзЗ ржПржмржВ рж░рзЛржЧрзАрж░рж╛ ржжрзВрж░ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗржи | Walk-in Priority ржЯрзНржпрж╛ржЧ ржЕрзНржпрж╛рж╕рж╛ржЗржи ржХрж░рзБржи                     |
| ржкрж░ржмрж░рзНрждрзА рж╕рзНрж▓ржЯ ржЖржЧрзЗржЗ ржмрзБржХ ржХрж░рж╛ ржЖржЫрзЗ                       | ржбрж╛ржХрзНрждрж╛рж░ ржЪрж╛ржЗрж▓рзЗ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНрж▓ржЯ ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи |
| ржХрзЗржЙ рждрж╛ржБржжрзЗрж░ рж╕рзНрж▓ржЯ ржЫрж╛рзЬрждрзЗ рж░рж╛ржЬрж┐ ржиржи                       | ржЖржЧрзЗрж░ ржмрзБржХрж┐ржВ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд рж░рж╛ржЦрзБржи                              |

---

